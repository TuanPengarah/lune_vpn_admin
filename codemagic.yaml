# Automatically generated on 2021-08-05 UTC from https://codemagic.io/app/610aaae19c2e5612591303d3/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        FCI_KEYSTORE_PATH: /tmp/keystore.keystore
        FCI_KEYSTORE: Encrypted(Z0FBQUFBQmhESGxQOE5NT2Rkd0ZRcmNFVEFlUWd2RDdZay00c0lVUlZxWXVyeWhFWEJsSWlSRTU4Tm9ZbFl2TUp0bWtWS0FRbmlDMnk1NlFzT1JKYnhlR1pkZEVDSVR0S0loT0Q2QmpQbFAzQm5oZFZ0U2Uzdi1wY2RPQWhzMkJmMGlMRmIyTVVMQ2hQMk5KV3llUjNubFZZZmpqQnBPVjdfbHBlZDVCMzVvT0NTWUNwT3JQWlNGVkdfQUpWUnFldUEwelZQaUJHZEN1aEFILTc2aVRNYTRxX0pNRXpPTm9laEFDRy1KbXh0Y1RxOFBncDc0cFFkX2gtRE1LWHV3NllTQnZkV0pZZVI3NzV2N2xLRmtIZXdSdTRObGJ6cjk2WnVhQ2hsVFNHYkZuWUFTNDVydzR2Q1N4WkFQNURIeThXNGNJX09kYktYNWZwemt1RFRlcWhraGJYMU5LT2ZvTEwzajdqQ1R3STVPeWhZeFM0VVUtbHZLUzZGR3hmVmd0SDlxZDJjVU1pdEVlUFdRVGQ3WjVtcTktQUZ1SFhHZlh4N0trZm5zM2hyT1lwRDNLOFRDQ2dIUEhja0tIMV9pdzJHd1BHSUZIY3prdjh3T255dlpVZ00yNVhORkVHd09KRFJPSVlhWG50eGJXQTBhYjZtV0hDRFl0X0d5SWVNTi1kTS1Kd1dEMk1Xd1FXdVBFM2lidkxkd0Z0N0RNRE9tWERKS2hpazI1c1g0S0RwUGZySXR0MHF1Z1dzby1UNlBCc1JTSjJFbUJKdTh1cVI5M1I2QzlHMGZ0aXpBNjdENklPVmpKcDhndWt2VXYyU0U3anhxLTE0U2FxZlBBZndMSTBINi1EaU9iaVV0MXJNNEFLVkdkS1ROcGhrT1Z0Q2Z3VUZBS2R0a1BUU1dmenRCS3Npa0FQZUFXRUhHeEdtOEplUm1tRVBPUHo1QlFrYVA5dEZUM3BrbkV4bHRXdkYzWmlkd1pGUVVWUE1CSVhOUzF1TVVDRG05a282LXhmVHZsVTljTVA2Q2plYmhjeWRsR0tzd1dZd0JDcVVUS1M4V2k1SXBtbmkzYTlmaHh2ODBvNE50V2NuakdMM0hWUWlJc0tBZWN0Q1V1UTVqVndTWmp2Z2p5dGZjVXRBRVRHS3NGMzczeXBiT3Z0ZkJmOVFRUXJuem5aRWpCQjdHbkQ1REZzUThNOVBNa3g5ZWI2SjIxWHY5TWZCRHJsUFNyZnFSNzEydHZKaERFbnF4TWtkNWdQWTd2S1hiU1k5ZGdPRWstTVV6Vm1IY05tYzloVWxsQ0dScFlxTEZiOE1WNzFQR0dBdlc1UXg5ejBqOG5iMHY0Z2F6YkItbnZIc3FZS05PTTdvNm9uN2ExbzQzbjJPODA3ZmNUdm9LNVMtUG5Cb281VUpCb1pjZ0lJclhJU1p3TFhsNUNrUVQ4RlFqbHRqMV9lamxvdXF0MmN4MnpxUWVYUUFUYVlwdUVPaDVJU25NcWZrcHpwWERBMHc4MUNjandncFlyODlDaWFhTUl3elYwYVBOWm9OaGFlUGx3alVybF9OS3lpRzIyVDBIRXpuRmR4aFVOWWlaczdjdGZVcm5oeGpaa05Zb2dodDZycndfbURNVFVOVDRZWkQ1dFMzUUt0amlwWTlYWXBhcVBkb0ZvQl9wY1lDTGV2NW5JWGNRUktCSkFkX0x3U3VLcEUxb3dGRkswRkFCNWJGZzVxdWltSEdhMHpXUDU2TzJlVGJHWkp4RVZNdEc5Nk5LdGkwX3JURjN2WnFETGtraWZFa0prS1V2d0VlbklFajhfN0FLZy1FeVFPWVpFMUttd2JiTUY5QzlfSklDaG5SUmhPSkVVbGwxX21TUEFLVTk1blNwV3hjZ0pYRVppNVd1WkV3a3FxOGlBNV93ek9Ba3pOcG5iT3VKLW5KUkhIVFB4VjZ6b3pJQVNNQUJnMHozc19iMHA4a1ZJV29vT1hYX2lJUmRobGdMaURDUmJmNGNrSXhCd0ZJYUtrRHJhSGtfb3phbmxDYjE2ZEJRN3huemJ4SFd6MGFKdTlGRU9DSVp4WWJRNmNqOHNXNTJGQ2FEZ3RhdVdDcEk5QTFHb0FXcm9xWVhYTTRXV3hVRWRsakJOQmJUNXBRVjhfaGR0ejg3eU9kRy1pSXhlQ2tHVXBuZFB3OWUwUTJISTJkN0JBcVY5T2laLXZKeUV6aDhxS29fbnl0cFA1XzFHWHRSNHRnQWlSeW9raV92NEh2WXlfRlJiWnRpZDQ5QjZlV0tNT1g2NnVuazI2aDZwa1J3S3NGTjJ4bXFTeVJ3SDg2OHYyZEpFTGdmYmVsN1FyN19kT0dqVjJBR0VpNXB2eWNsSy1NZ2FnVC1oOFFGb0lPVi1Nc0F5MjhoeUhsTGdHV2hDNHJ1TDBzMEVucld1U1h6SDFGT1dWSlh0blpLT3M0NEZScmdWTEctTncwQmxHY093eVk0dGpfb0FTc1FBSHlGdndrNFhvMHRwdnB6VkNDX1VmeHNsT21DNmpzWF9teGcwZE1CU3BvQ2hGUDhZTlVrWC1SRGZHU1l1QWF3UjQ2UlhyaENnYlQyUVc2VHJaa0R3eUlBbTg2VC1XekR4T05mZ2ZnMjB1QmxKbk50QlZmU3FKVmxpbk8yVUFwczl1VFVaTGlpVU5mX29kdXI0YXpEbFpZSGxpRjYyTWJnOURfdEplYVZLSWF2bGVHTXRoSFJUVDFna2NKZnRHWjd6RTlKOV80M0VBOWVOcGJNbDgyZXg3Y3VhQm5uZUlOVVdROFVNZElYSDQyLWJ4VVdGbWtDaFZnVzhCSEN4YThlckhlX0MxQ1NyTDV6cVBYejc5eEpwbkVMbW1INURVRTR6OXh3TGJNVDdld2t5cnlsQzE1RWI5NjlTSXFEdkxxc2JZZ3BpVEQtUjR2TXhvbXk3V2JXN0tCeGVmNjU2Y0xxWWQyd00wYWVQN2wxY0YyRm5UTTZXWWtUWEMwekFTa0l3MXctRjBmeGZGcXNtQ3FGMHBmMUdKNV95SHo1bWhUU1RoWTVJLXQzd010RzZDT1BTQU5PM3JLZ1NxV0xmRG04UFVPX3hlV08xRE1mVEZHSExVUWlsMDBCT09hUWJ4dHphR2pUcXprN1Azc0M2QzBZS2pSVEZCWjFkaGdkNUd1SG9Yb3NKRTgySHNwQmFmMDF1andKcFJOSUVhSHU0OTdvOHRiaDlydjJIcGNDYkpGWkVLcjR4b1dUUk5yaE1XMXBCNHFDRHhvRk1pekV4N0oyXzFmMzd3Ym5FSTRTazZZWS0xRGQ5MjFiUXAwVWdydld6TnQ4SmRkWHpkSGlyem5tOGl0TUVlQURuRHdJWXJ3NEhQZ2ZPMG5GZV85b05RcGhBRi1QWEE5MVdkQ1E0TW9FU3ZETVVERkF3WlhSQ0JvQWNaWGVubFVjRmxwemNCcWx5MDNaX1djbTFNS05KaXhjUWRSd0owc09NSnh2NmQ4Yld3aW16VEdKUmMwNkpBaWlaU25NOFVUclI4b2lrX1hvZzVNZUpQOFNnbEptYjI0MmdTYWZWc01rY0hXVWVKQ2V2N2RDclVUQlFwMXYwSzZmcGdFMGFnd2ZWa01ubjdLTGJuc2tDQkdnQmI4NHFsSWZrMmZ6S3pUb2s3S0dDUFlsR0JNb3FFNFBaMFg0dDktemhRQXRsLUhQcklSdzFtZ1RsUUJfSFY1YU1OVFNxakhmNjlDRGdmNDgwS3JKMkstUEVyZl85cDlFMnQzWWR3Q2tKY3FiekswQl9OaVlKb25JTTdBaXJGM1Y1dW03M2xqTGNxU3RWS3dQeURNV2JkcnZZckt1OElDQ1JKc3MycmFaUk9RUGlybnd2SHBTVkpnUW56ZjdZU3l0UU5rdHZ2elI0V20yS3JwVTlUZ1Z3azNRM2phZEU1czZsbHQ5VXZMTDg3emkydDk3S1VmcjBIWlduenZJTmNYZ2FlamIyX0hHMTdDMXAyVUJCSlNGVUhNRTJOZG1kTFRaOE0yN01PdkNpeWEzcDQ0dXpYcGl1R2tTNGZibWxQelZFMm5PSzRRQTNFQnNUcEJMTGhqcVZFQ055MndiMGVnbWttank2Umd2Tmw2dTZrbTE4U0Z5NnhrS3R4VFc5TDduUlpFZGdRaWRKRXlvNDZGNFF1bkdBXzlfTlFsSFo4eUI1MlQ4V0V3dGhDekZma3psbUlNc012WGJ6XzEyUkV0dGlhYWEzam4zTnZuMlVPS3lFZzVCVW15SGJCZWpRTnE4V2ZKcVJEdWUybGhwQURfaXJKZmdwanN3RGN0d2R5Wmt4ZjRuNFNOd1AtdFRybURuYVdueWlaeGVBRUxVdlJKMXhMdE9JUjdoMjZsSVdpT0VDMmZnUFhOV1MxeUFCR1lsR2VXMEp2UFpVMmxnSDVWYW9OQnpoYzRCMDVlZVpiTFdacHVvc3U5VTRueEwzWWI3Y21samhLdGtxVHlEb1NJTmxqUGRPSnFCUGdaX2lyQV8yeWdPczdsdG5aWXVUTTdnSVlENGFmYmZXLW1DVlBLNnZ4Ml93aGFLdHcxeWxwYlAxejBZMjNaZVM2VUpzaEZGUlZpWElGaFlObkRsZU83N0pHLVJkWk9QUEJhdjNEb191NU5QZmU4Z0Y0QnFmVTIwQ0pSSzU2aTFXdGx3a2dkMFBQQmpPVEMxdHVYcE5TbEdkTkVsbVNHQXotVWVTWW93WmlfcFhhRUNfMENaYXVGZW1sYUpfaGNkdFdydFU4V282dTJMemxycmxvUVozUFdNT09NeWxrSHNoQklGSXJTNEpyLTRxM08yVy1SeVFGYTZJcWdrSFFKekJodWxDM1N4SUdpVWQ1WjFZdm1qZ0dXM2NueUtRWmNHNWZqMDM5Y2JqQk9EenhaX19QY1ctckVkdFJMU0J0SS1EM3Eyam5HWklVQmxsLU9lRXBvZE9WTUR3WVlINnBzLWFuZDJvVUx1VmlFQUIyNElPNnRUUlRva1M1V3Y1NGJzdFNSZjBpbW82OG9zOUNmVlBHbTdQNkFpamIyTFhBS25zMExLb183bkVhOXdiOVdjemt4S3BubGYxMUEtRVpEVE5TWmxtelFYcVh0ZnV2R1BOc1dlbWdVTm8tX2ZTZUx5M0J0Sm03MG1OMFllN1VjXzNWbXRyYzg4cmRCTkhGYWplUmdqQ211SzRjVllkcGdLTHBoS2kwZlZjbjVwdkFmcUZ2UjlndGh4b0haeGlhVGJaSjM0Zk9OQXFHeVlFTWNjVHpUa0ZPRnkwRWF6bExsSUdjOGdDcEd4RUN0WENVMHJ5eDdoeklzWnlTQ3U4T0MtdjdxeWFKMXc4TksyZnEzcU4yRkt5eHF2MU95SVl0SW9yV0FCT2hQOXNMeUcwM0VnemdMZEVXRl9Sel9WRGVsWk9IdGJlR2J2S2hDdFdoNERCQmdXWTZuZ05lUUZEOGEyckszRWlBVzRmVEx3VnRYb0Jxc0RrZjIxQ2ZnZlc4cldsMDZZb19mb0FKQWZLaEdnbFNDT3Y2cFU3bUNOZEo5d1VDTE1MdzRXTzJObUxyZkwya3RNVUVDZHp3LUVrcXVhQXg4MFRJNmFXdVVWV2xRPT0=)
        FCI_KEYSTORE_PASSWORD: Encrypted(Z0FBQUFBQmhESGxQbldzUEozNGxrQk9OVWJaSG1YeG9PMjhmZkxkZGRPTWk1VHlTRjkyMTlOX2k5SGVaYlYwekZSSjlGYU5aWjh4cnpNZXlNU1pUMTh4QjNEYWJYcTQwaFE9PQ==)
        FCI_KEY_PASSWORD: Encrypted(Z0FBQUFBQmhESGxQQmhfc25TdjhFZEx4dG9IcVhkblExWGNlQzhHaW5aalRUTUl6R3VSeWdaNHVUWGJwMm1OTlR5RmZHNGQyUTl4cGpnMjlHZ1dJTDVmTWNkM3h3VzI3dUE9PQ==)
        FCI_KEY_ALIAS: Encrypted(Z0FBQUFBQmhESGxQSEVvMkhlTGRfSklXcDg0OEZ1ZDBENzA3WlQwVE9PZUZ6LVpCWTJyRXh6QjJxY1l0ZGFLdHE1YUFLVG5YQ3Nla21rT3ZoMWtLQm5ZQU56d3FueXcyN3c9PQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: '*'
          include: true
          source: true
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - |
        # set up key.properties
        echo $FCI_KEYSTORE | base64 --decode > $FCI_KEYSTORE_PATH
        cat >> "$FCI_BUILD_DIR/android/key.properties" <<EOF
        storePassword=$FCI_KEYSTORE_PASSWORD
        keyPassword=$FCI_KEY_PASSWORD
        keyAlias=$FCI_KEY_ALIAS
        storeFile=/tmp/keystore.keystore
        EOF
      - |
        # set up local properties
        echo "flutter.sdk=$HOME/programs/flutter" > "$FCI_BUILD_DIR/android/local.properties"
      - flutter packages pub get
      - flutter build apk --release
    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - akidfikriazhar@gmail.com
      firebase:
        firebase_token: Encrypted(Z0FBQUFBQmhESGxQYTNKRllmT05abWJfQlNGQjV2YzdTcXFfZmVma2EtT05HcFJKcnd0TzY4NTFfMHg1U3RybTdqQ0x3UWZNUGprdHB6SEM0X0Y1YmZ3YW5XLUV5ZWJEZGhyZlJDbzRXUFNhMHc5cTkzZGo4MzE1dkd2SFBwSHZkNkNJWVRid2FIa21JeVpIOWN3YXBDdzFsNG1DY0luTWp4c29Lc09WLXBfeXpJTFJKeWpJR0o3Q0ducWtlcVhCWml5dnRidUczZmRNdFJrWk5hSVRxZDBZYVBlaW91cUlsZz09)
        android:
          app_id: 1:728682371792:android:b68d1bcb0c884a4cef5cd5
          groups:
            - normal-user
